matrix:
  include:
    - os: linux
      language: java
      sudo: false # for faster builds
      jdk: openjdk11
    - os: osx
      language: java
      sudo: false # for faster builds
      jdk: openjdk11
    - os: windows
      language: shell # 'java' not supported, 'generic' causes VM to hang on boot.
      sudo: false # for faster builds
before_script:
  - |
    if [[ "$TRAVIS_OS_NAME" == "windows" ]]; then
      choco install jdk8
      export PATH=$PATH:"/c/Program Files/Java/jdk1.8.0_201/bin"
      export GRADLE_OPTS=-Dorg.gradle.daemon=false
    fi
script:
  - chmod +x subdirectories_build.sh
  - ./subdirectories_build.sh
